# Этап 4: Дополнительные операции — Обратные зависимости

## 1. Общее описание

Реализована **дополнительная операция** над графом зависимостей:  
**вывод на экран обратных зависимостей** для заданного пакета — то есть **всех пакетов, которые зависят от него** (включая транзитивные).  

- Используется **тот же алгоритм итеративного DFS без рекурсии**, что и в Этапе 3.  
- Поддерживается **ограничение глубины**.  
- Обнаруживаются **циклические зависимости**.  
- Работа **только в тестовом режиме** — через файл с графом (пакеты — **большие латинские буквы**).  

> **Цель**: для пакета `X` вывести: «Какие пакеты зависят от `X`?»

---

## 2. Описание всех функций и настроек

| Параметр | Описание |
|--------|--------|
| `--file` | **Обязательный**. Путь к `.txt` файлу с графом зависимостей. |
| `--package` | **Обязательный**. Пакет, для которого строятся зависимости. |
| `--reverse` | **Флаг**. Включает режим **обратных зависимостей**. |
| `--depth` | Максимальная глубина обхода (по умолчанию: `999`). |

### Внутренние функции:
| Функция | Описание |
|--------|--------|
| `load_graph_from_file()` | Загружает граф из файла формата `A: B C`. |
| `get_transitive_dependencies()` | **Итеративный DFS** (через стек). Возвращает зависимости и флаг цикла. |
| `reverse_graph` | Строится автоматически: `X → Y` → `Y: [X]`. |

> **Формат файла** (`test_graph.txt`):  
> ```
> A: B C
> B: D
> C: D E
> ```

---

## 3. Описание команд для запуска и тестирования

> Проект на Python — **сборка не требуется**. Запуск через `python`.

```bash
# 1. Прямые зависимости
python script4.py --repository test_graph.txt --package requests --depth 3 --repo-mode local

# 2. Обратные зависимости с циклом
python script4.py --package requests --repository https://pypi.org/pypi --repo-mode remote --version 2.32.3 --depth 3 --reverse

# 3. Обратные зависимости с циклом
python script4.py --repository test_graph1.txt --package A --depth 4 --repo-mode local

```
## 4. Примеры использования

<img width="1125" height="314" alt="image" src="https://github.com/user-attachments/assets/da08f826-d97a-4283-a1a5-c6e7087ed7bd" />
<img width="1207" height="286" alt="image" src="https://github.com/user-attachments/assets/87854727-8288-4486-82ba-ef3b037aaf90" />
<img width="1213" height="326" alt="image" src="https://github.com/user-attachments/assets/6ac04fe5-7571-4cf3-a899-597944ab5cb2" />








